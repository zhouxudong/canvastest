<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>segment 节段 - slider</title>
    <style>
        body{background-color: #bbbbbb;}
        #mycanvas{
            background-color:#ffffff;
        }
    </style>
</head>
<body>
<canvas id="mycanvas" width="1000" height="500">浏览器不支持</canvas>

<script src="../statics/js/utils.js"></script>
<script src="../statics/js/segment.js"></script>
<script src="../statics/js/slider.js"></script>
<script>

    var canv = document.getElementById("mycanvas"),
        cxt = canv.getContext("2d"),
        segment0 = new Segment(100, 20),
        segment1 = new Segment(100,20),
        slider0 = new Slider(-90, 90, 0),
        slider1 = new Slider(-160, 0, 0);

    segment0.x = 100;
    segment0.y = 100;

    slider0.x = 300;
    slider0.y = 20;
    slider0.captureMouse(canv);
    slider0.onchange = drawFram;

    slider1.x = 340;
    slider1.y = 20;
    slider1.captureMouse(canv);
    slider1.onchange = drawFram;

    function drawFram() {
        cxt.clearRect(0, 0, canv.width, canv.height);

        segment0.rotation = slider0.value * Math.PI / 180;
        segment1.rotation = slider1.value * Math.PI / 180;
        segment1.x = segment0.getPin().x;
        segment1.y = segment0.getPin().y;


        segment0.draw(cxt);
        segment1.draw(cxt);
        slider0.draw(cxt);
        slider1.draw(cxt);
    }
    drawFram();


</script>
</body>
</html>